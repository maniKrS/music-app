<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" ></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css" integrity="sha512-1sCRPdkRXhBV2PBLUdRb4tMg1w2YPf37qatUFeS7zlBy7jJI8Lf4VHwWfZZfpXtYSLy85pkm9GaYVYMfw5BC1A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <title>Music app</title>
</head>
<body>
    <div style="width: 100%; height: 100%;" class="container gradient text-center">
       <div class="img align-self-center">
        <img src="images/1.jpg" style="width: 100%; height: 50%; margin-bottom: 5%; border-radius: 2%;" class="img-responsive align-self-center" id="image">
       </div>
       <div class="btn-group button" role="group" aria-label="Music Control">
        <i class="fa-solid fa-backward" style="padding:10px;" id="backward"></i> 
        <i class="fa-solid fa-play" style="padding:10px;" id="play"></i> 
        <i class="fa-solid fa-forward" style="padding:10px;" id="forward" title="forwrd"></i>     
     </div>
     <h1 id="title">name</h1> 
     <audio src="" id="audio"></audio>
    </div>
    <script>
       const playbtn = document.getElementById("play")
        const song = document.querySelector("audio")
        const forward=document.getElementById("forward")
        const backward=document.getElementById("backward")
        const title = document.getElementById("title")
        const music =[
            {
                track:"1",
                artist:"salman",
                image: "images/1.jpg",
            },
            {
                track:"2",
                artist:"sharukh",
                image: "images/2.jpg",
            },
            {
                track:"2",
                artist:"IDK",
                image: "images/3.jpg",
            }
        ]

        var isstate=false
        let songindex=0
        const playMusic = () =>{
            song.play()
            playbtn.classList.replace("fa-play","fa-pause")
            isstate=true
        }
        const pauseMusic = () =>{
            song.pause()
            playbtn.classList.replace("fa-pause","fa-play")
            isstate=false
        } 

        playbtn.addEventListener("click",()=>{
            if(isstate){
                pauseMusic()
            }else{
                playMusic()
            }
        })

        const loadsongs=(music)=>{
            song.src="music/"+music.track+".mp3"
            title.textContent = music.artist
            document.getElementById("image").src = music.image
        }

        const next = ()=>{
            loadsongs(music[songindex])
            songindex++
            if(songindex>=music.length){
                songindex=0
            }
        }
      loadsongs(music[songindex])
      forward.addEventListener("click",next)
        
        const prev = ()=>{
            loadsongs(music[songindex])
            songindex--
            if(songindex<0){
                songindex=music.length-1
            }
        }
        backward.addEventListener("click",prev)

    </script>
</body>
</html>